<!DOCTYPE html>
<html>
  <head>
    <title>About Assertions−3</title>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />


<link rel="stylesheet" href="/css/bootstrap.min.css"/>
<link rel="stylesheet" href="/css/layouts/main.css"/>
<link rel="stylesheet" href="/css/navigators/navbar.css"/>
<link rel="stylesheet" href="/css/plyr.css"/>
<link rel="stylesheet" href="/css/flag-icon.min.css"/>


<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600">


<link rel="stylesheet" href="/fontawesome/css/all.min.css"/>




  

  
  
  
    
  
  

  <link rel="icon" type="image/png" href="/images/site/favicon_hu06b12159330b42430de9fe1d24f1d323_737_42x0_resize_box_3.png" />

<meta property="og:title" content="About Assertions−3" />
<meta property="og:description" content="I mentioned a situation, where we need to repeat fix, run, fix run…​ steps. It happens when we want to make sure multiple conditions are satisfied at the same time in a single test run.
 public class MultiConditions { @Test public void multiConditions() { String firstName = &#34;Gaius&#34;; String lastName = &#34;Caesar&#34;; String helloMessage = composeHelloMessageInEnglish(firstName, lastName); assertThat(helloMessage, containsString(&#34;Hello&#34;)); assertThat(helloMessage, containsString(&#34;Gaius&#34;)); assertThat(helloMessage, containsString(&#34;CAESAR&#34;)); } }   Let’s suppose that we introduced bugs in the method composeHelloMessageInEnglish(String,String), where we inserted &#34;Howdy&#34;, instead of &#34;Hello&#34; and at the same time, we forgot making family name all upper cases despite its specification of the function." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dakusui.github.io/posts/about-assertions3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-03T01:31:09+09:00" />
<meta property="article:modified_time" content="2022-06-03T01:31:09+09:00" />



    
    
<meta name="description" content="About Assertions−3" />
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css"
/>
<link rel="stylesheet" href="/css/layouts/single.css"/>
<link rel="stylesheet" href="/css/navigators/sidebar.css">

<link rel="stylesheet" href="/css/style.css"/>



    




</head>

  <body data-spy="scroll" data-target="#TableOfContents" data-offset="80">
    <div class="container-fluid bg-dimmed wrapper">
      
      
    





  


  




  
  
    
  
  



  
  
    
  
  


<nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
  <div class="container">
      <button class="navbar-toggler navbar-light" id="sidebar-toggler" type="button" onclick="toggleSidebar()">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="/">
      
        <img src="/images/site/main-logo_hu0b89b0d532b4129df163fd61aecd6233_4741_42x0_resize_box_3.png" alt="Logo">
      Hiroshi Ukai&#39;s blog</a>
    <button class="navbar-toggler navbar-light" id="toc-toggler" type="button" onclick="toggleTOC()">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse lang-selector" id="top-nav-items">
      <ul class="navbar-nav ml-auto">
      
      </ul>
    </div>
  </div>
  
  
    <img src="/images/site/main-logo_hu0b89b0d532b4129df163fd61aecd6233_4741_42x0_resize_box_3.png" class="d-none" id="main-logo" alt="Logo">
  
  
    <img src="/images/site/inverted-logo_hub18d35914e2bf42d303cd42b72caa211_4647_42x0_resize_box_3.png" class="d-none" id="inverted-logo" alt="Inverted Logo">
  
</nav>



      
      
  <section class="sidebar-section" id="sidebar-section">
    <div class="sidebar-holder">
      <div class="sidebar" id="sidebar">
        <form class="mx-auto" method="get" action="/search">
          <input type="text" name="keyword" value="" placeholder="Search" data-search="" id="search-box" />
        </form>
        <div class="sidebar-tree">
          <ul class="tree" id="tree">
            <li id="list-heading"><a href="/posts" data-filter="all">Posts</a></li>
            <div class="subtree">
                

            </div>
          </ul>
        </div>
      </div>
    </div>
  </section>


      
      
<section class="content-section" id="content-section">
  <div class="content">
    <div class="container p-0 read-area">
      
      <div class="hero-area col-sm-12" id="hero-area" style='background-image: url(https://dakusui.github.io/images/default-hero.jpg);'>
      </div>

      
      <div class="page-content">
        <div class="author-profile ml-auto align-self-lg-center">
          <img class="rounded-circle" src='/images/author/avatar_hu700675a3593f2196f90a24bec185a055_32468_120x120_fit_q75_box.jpg' alt="Author Image">
          <h5 class="author-name">Hiroshi Ukai</h5>
          <p>Friday, June 3, 2022</p>
        </div>

        <div class="title">
          <h1>About Assertions−3</h1>
        </div>
        
        <div class="taxonomy-terms">
            <ul>
            
          </ul>
        </div>
        
        <div class="post-content" id="post-content">
          <div class="paragraph">
<p>I mentioned a situation, where we need to repeat fix, run, fix run…​ steps.
It happens when we want to make sure multiple conditions are satisfied at the same time in a single test run.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class MultiConditions {
  @Test
  public void multiConditions() {
    String firstName = &#34;Gaius&#34;;
    String lastName = &#34;Caesar&#34;;
    String helloMessage = composeHelloMessageInEnglish(firstName, lastName);

    assertThat(helloMessage, containsString(&#34;Hello&#34;));
    assertThat(helloMessage, containsString(&#34;Gaius&#34;));
    assertThat(helloMessage, containsString(&#34;CAESAR&#34;));
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let’s suppose that we introduced bugs in the method <code>composeHelloMessageInEnglish(String,String)</code>, where we inserted &#34;Howdy&#34;, instead of &#34;Hello&#34; and at the same time, we forgot making family name all upper cases despite its specification of the function.</p>
</div>
<div class="paragraph">
<p>We first need to run the test and know the salute is broken.
Fix it and run.
Then we’ll know also we forgot making the family name upper cases.
Then run it again and now the test passes.</p>
</div>
<div class="paragraph">
<p>In this example, the function was quite easy and perhaps very fast, which is always not the case.
If it takes 5-10 min, wouldn’t it be too much painful?
We can say dogmatically that &#34;a unit test suite must be designed so that it finishes within 10 seconds.&#34;
But, it’s no use.
Not having tests is much worse thing than having no tests.
Also, in reality, there are a lot of scenes we need to handle very time-consuming functions.</p>
</div>
<div class="paragraph">
<p>A better way of writing the same test with Hamcrest is following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class MultiConditions {
  @Test
  public void allOfMultiConditions() {
    String firstName = &#34;Gaius&#34;;
    String lastName = &#34;Caesar&#34;;
    String helloMessage = composeHelloMessageInEnglish(firstName, lastName);
    assertThat(helloMessage, allOf(
        containsString(&#34;Hello&#34;),
        containsString(&#34;Gaius&#34;),
        containsString(&#34;CAESAR&#34;)));
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output is like following and the situation became a bit better.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>java.lang.AssertionError:
Expected: (a string containing &#34;Hello&#34; and a string containing &#34;Gaius&#34; and a string containing &#34;CAESAR&#34;)
but: a string containing &#34;Hello&#34; was &#34;Howdy, Gaius Caesar!&#34;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We have all the conditions in the output and the full actual input in the console.
So, we should be able to examine all the conditions to be met (<code>a string containing &#34;Hello&#34;</code> and <code>a string containing &#34;Gaius&#34;</code> and <code>a string containing &#34;CAESAR&#34;</code>) at single run.</p>
</div>
<div class="sect1">
<h2 id="_next_post_did_the_hamcrest_conclude_how_the_assertion_should_be">Next Post: Did the Hamcrest conclude how the assertion should be?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Not, actually.
Like any other products, Hamcrest has its own challenges.
Like any other successful products, it made the next challenges visible.
In relatively recent years, a few new assertion libraries are becoming popular.
They are trying to address the challenges.
<code>FluentJ</code> and <code>Google Truth</code>, which will be discussed in the next post.</p>
</div>
</div>
</div>

        </div>

        
        <div class="row pl-3 pr-3">
        
        <div class="col-md-6 share-buttons">
        
            <strong>Share on:</strong>
            
            <a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fdakusui.github.io%2fposts%2fabout-assertions3%2f" target="_blank">
              <i class="fab fa-facebook"></i>
            </a>
            
            
                <a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=https%3a%2f%2fdakusui.github.io%2fposts%2fabout-assertions3%2f&text=About%20Assertions%e2%88%923&via=Hiroshi%20Ukai%27s%20blog" target="_blank">
                  <i class="fab fa-twitter"></i>
                </a>
            
            
            
            
            
            
             
            
            
          
          </div>

        
        
          
            
          
          <div class="col-md-6 btn-improve-page">
             
               <a href="https://github.com/dakusui/dakusui.github.io/edit/toha/content/posts/about-assertions%e2%88%923.adoc" title="Improve this page" target="_blank" rel="noopener">
            
                <i class="fas fa-code-branch"></i>
                Improve this page
              </a>
          </div>
        
        </div>



      
      <hr />
        












<div class="row next-prev-navigator">
  
  
</div>

      <hr />

      
      

      
      

      </div>
    </div>
  </div>
  
  <a id="scroll-to-top" class="btn"><i class="fas fa-chevron-circle-up"></i></a>
  
</section>


      
      
  <section class="toc-section" id="toc-section">
    
  </section>

    </div>

    
    












  
  
    
  

  
  
    
  

  
  

  
  
    
    
      
    
  


  
  
  
    
  

  
  
  

  
  
  
    
  
  

  
  
  

  <footer id="footer" class="container-fluid text-center align-content-center footer pb-2">
    <div class="container pt-5">
      <div class="row text-left">
        
        <div class="col-md-4 col-sm-12">
          <h5>Navigation</h5>
          
          <ul>
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://dakusui.github.io#about">About</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://dakusui.github.io#projects">Projects</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://dakusui.github.io#recent-posts">Recent Posts</a>
                </li>
              
            
              
            
          </ul>
          
        </div>
        
        
        <div class="col-md-4 col-sm-12">
          <h5>Contact me:</h5>
          <ul>
            
              
                <li><a href=https://github.com/dakusui target="_blank" rel="noopener">
                  <span><i class="fab fa-github"></i></span> <span>dakusui</span>
                </a></li>
              
            
              
                <li><span>Twitter: </span> <span>@______HU</span></li>
              
            
          </ul>
        </div>
        
        
        
          
          <div class="col-md-4 col-sm-12">
            <p>Stay up to date with email notification</p>
            
              <form method='post' action='https://blogtrottr.com'>
              <div class="form-group">
              <input type='email' class="form-control" name='btr_email' placeholder="Enter email"/><br />
              <input type='hidden' name='btr_url' value='https://dakusui.github.ioindex.xml' />
              <input type='hidden' name='schedule_type' value='1' />
              <small id="emailHelp" class="form-text text-muted">By entering your email address, you agree to receive the newsletter of this website.</small>
              <button type="submit" class="btn btn-info"> Submit </button>
              </div>
              </form>
            
          </div>
        
      </div>
    </div>
    
    <hr />
    <div class="container">
      <p id="disclaimer"><strong>Liability Notice:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p>
    </div>
    
    
    <hr />
    <div class="container">
      <div class="row text-left">
        <div class="col-md-4">
          <a id="theme" href="https://github.com/hossainemruz/toha" target="_blank" rel="noopener">
            <img src="/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png" alt="Toha Theme Logo">
            Toha
          </a>
        </div>
        <div class="col-md-4 text-center">© 2022 Copyright.</div>
        <div class="col-md-4 text-right">
          <a id="hugo" href="https://gohugo.io/" target="_blank" rel="noopener">Powered by
          <img
            src="/images/hugo-logo.svg"
            alt="Hugo Logo"
            height="18"
          />
          </a>
        </div>
      </div>
    </div>
    
  </footer>


    <script type="text/javascript" src="/js/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="/js/popper.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>

<script type="text/javascript" src="/js/navbar.js"></script>
<script type="text/javascript" src="/js/plyr.js"></script>
<script type="text/javascript" src="/js/main.js"></script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
<script src="/js/single.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>









    
</body>
</html>

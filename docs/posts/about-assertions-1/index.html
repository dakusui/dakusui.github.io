<!DOCTYPE html>
<html>
  <head>
    <title>About Assertions 1</title>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />


<link rel="stylesheet" href="/css/bootstrap.min.css"/>
<link rel="stylesheet" href="/css/layouts/main.css"/>
<link rel="stylesheet" href="/css/navigators/navbar.css"/>
<link rel="stylesheet" href="/css/plyr.css"/>
<link rel="stylesheet" href="/css/flag-icon.min.css"/>


<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600">


<link rel="stylesheet" href="/fontawesome/css/all.min.css"/>




  

  
  
  
    
  
  

  <link rel="icon" type="image/png" href="/images/site/favicon_hub02d7508a1c89b2b7812eab204efeb9a_4223_42x0_resize_box_3.png" />

<meta property="og:title" content="About Assertions 1" />
<meta property="og:description" content="When I write a test with JUnit, etc., I always feel annoyed at not being able to make it clean or doing so is really difficult. Let me state here, my principles in coding.
  &#34;Repetitive things are machine’s, not human’s&#34;
  &#34;Tests are also codes. They should be as clean as the product&#34;
   Perhaps, I need to add some other new principles to them later as my thought develops through posting entries to this blog, but anyway, I am going to call the set of my ideas that I am presenting here, &#34;Test Design as Code&#34;." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dakusui.github.io/posts/about-assertions-1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-31T04:39:15+09:00" />
<meta property="article:modified_time" content="2022-05-31T04:39:15+09:00" />



    
    
<meta name="description" content="About Assertions 1" />
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css"
/>
<link rel="stylesheet" href="/css/layouts/single.css"/>
<link rel="stylesheet" href="/css/navigators/sidebar.css">

<link rel="stylesheet" href="/css/style.css"/>



    




</head>

  <body data-spy="scroll" data-target="#TableOfContents" data-offset="80">
    <div class="container-fluid bg-dimmed wrapper">
      
      
    





  


  




  
  
    
  
  



  
  
    
  
  


<nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
  <div class="container">
      <button class="navbar-toggler navbar-light" id="sidebar-toggler" type="button" onclick="toggleSidebar()">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="/">
      
        <img src="/images/site/main-logo_hu9ad2f25a877e6fef77c7a3dbef5094ad_6881_42x0_resize_box_3.png" alt="Logo">
      Hiroshi Ukai&#39;s blog</a>
    <button class="navbar-toggler navbar-light" id="toc-toggler" type="button" onclick="toggleTOC()">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse lang-selector" id="top-nav-items">
      <ul class="navbar-nav ml-auto">
      
      </ul>
    </div>
  </div>
  
  
    <img src="/images/site/main-logo_hu9ad2f25a877e6fef77c7a3dbef5094ad_6881_42x0_resize_box_3.png" class="d-none" id="main-logo" alt="Logo">
  
  
    <img src="/images/site/inverted-logo_hub02d7508a1c89b2b7812eab204efeb9a_4223_42x0_resize_box_3.png" class="d-none" id="inverted-logo" alt="Inverted Logo">
  
</nav>



      
      
  <section class="sidebar-section" id="sidebar-section">
    <div class="sidebar-holder">
      <div class="sidebar" id="sidebar">
        <form class="mx-auto" method="get" action="/search">
          <input type="text" name="keyword" value="" placeholder="Search" data-search="" id="search-box" />
        </form>
        <div class="sidebar-tree">
          <ul class="tree" id="tree">
            <li id="list-heading"><a href="/posts" data-filter="all">Posts</a></li>
            <div class="subtree">
                

            </div>
          </ul>
        </div>
      </div>
    </div>
  </section>


      
      
<section class="content-section" id="content-section">
  <div class="content">
    <div class="container p-0 read-area">
      
      <div class="hero-area col-sm-12" id="hero-area" style='background-image: url(https://dakusui.github.io/images/default-hero.jpg);'>
      </div>

      
      <div class="page-content">
        <div class="author-profile ml-auto align-self-lg-center">
          <img class="rounded-circle" src='/images/author/avatar_hu700675a3593f2196f90a24bec185a055_32468_120x120_fit_q75_box.jpg' alt="Author Image">
          <h5 class="author-name">Hiroshi Ukai</h5>
          <p>Tuesday, May 31, 2022</p>
        </div>

        <div class="title">
          <h1>About Assertions 1</h1>
        </div>
        
        <div class="taxonomy-terms">
            <ul>
            
          </ul>
        </div>
        
        <div class="post-content" id="post-content">
          <div class="paragraph">
<p>When I write a test with JUnit, etc., I always feel annoyed at not being able to make it clean or doing so is really difficult.
Let me state here, my principles in coding.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>&#34;Repetitive things are machine’s, not human’s&#34;</p>
</li>
<li>
<p>&#34;Tests are also codes. They should be as clean as the product&#34;</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Perhaps, I need to add some other new principles to them later as my thought develops through posting entries to this blog, but anyway, I am going to call the set of my ideas that I am presenting here, <strong>&#34;Test Design as Code&#34;</strong>.</p>
</div>
<div class="paragraph">
<p>Actually, it is already five years ago since I first used the word for my article: &#34;JCUnit: Test Design as Code&#34;<a href="#JCUNIT">[JCUNIT]</a>.
The situation has not changed from the time, that much.
I am still seeing the lack of fundamental tools and key ideas to achieve or even identifying challenges to achieve the goals I mentioned earlier.</p>
</div>
<div class="paragraph">
<p>For this first post, I’d pick up &#34;assertion&#34;&#39;s history.
It would be an appropriate topic because many people are familiar with it, and it is a fundamental thing in automated testing.
Therefore, it would be a useful example for illustrating that there are a lot of &#34;missing&#34; things in the area of automated testing.</p>
</div>
<div class="sect1">
<h2 id="_assertion_in_automated_tests_junit">Assertion in Automated Tests (JUnit)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is almost a quarter-century since Martin Fowler and Kent Beck have published the book &#34;Refactoring&#34;<a href="#REFACTORING">[REFACTORING]</a> and the JUnit library has become popular.
The idea of an &#34;assertion&#34; was already there.
It was implemented as a simple Java method <code>assert</code> in <code>TestCase</code> class, which a test writer should extend.
Don’t get surprised, the keyword <code>assert</code> used not to be a reserved word at the time.
But, the behavior is not that much different.
If the condition becomes <code>false</code>, it throws an exception and the program will get aborted at the line.</p>
</div>
<div class="paragraph">
<p>The first JUnit-based test method in the book was like following.
Please note that, to the examples I added enclosing classes to make them readable and also added notes for explanation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class FileReaderTest extends TestCase {
  public void testRead() throws IOException {
    char ch = &#39;&amp;&#39;;
    for (int i = 0; i &lt; 4; i++) {
      ch = (char) _input.read();
    }
    assert(&#39;d&#39; == ch);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This test is verifies if the forth character from <code>_input</code> is <code>d</code> (In the <code>setUp</code> step in this class, the field <code>_input</code> is designed so).</p>
</div>
<div class="paragraph">
<p>Along with the explanation about how to write (grow) automated tests, it evolves into a new test.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class FileReaderTest extends TestCase {
  public void testReadBoundaries() throws IOException {
    assertEquals(&#34;read first char&#34;, &#39;B&#39;, _input.read());  // <b class="conum">(1)</b>
    for (int i = 1; i &lt; 140; i++) {
      ch = (char) _input.read();
    }
    assertEquals(&#34;read last char&#34;, &#39;6&#39;, _input.read());   // <b class="conum">(2)</b>
    assertEquals(&#34;read at end&#34;, -1, _input.read());       // <b class="conum">(3)</b>
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>By using a new method <code>assertEquals</code>, without going back to the source code, we can now tell how the <code>_input</code> showed different behavior from the expectation on a failure.</p>
</div>
<div class="paragraph">
<p>Since the software under test is a simple class which only reads a stream of characters from a file, it is not likely, but in general case, we should take the following situation into consideration.
We may introduce a bug that breaks all the assertions.
We will fix (1), then run and find (2) is broken, and then run and find (3) is broken…​</p>
</div>
<div class="paragraph">
<p>We can do even worse.
Suppose we introduce a bug that breaks (3).
We tried to fix it, but it actually broke (1).
You can imagine how much it is frustrating.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next_post">Next Post</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the next post, I will be touching up on the first popular matcher library &#34;hamcrest&#34;.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references">References</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a id="JCUNIT"></a> <a href="https://ieeexplore.ieee.org/document/7928008">JCUnit</a>, H. Ukai and X. Qu, &#34;Test Design as Code: JCUnit,&#34; 2017 IEEE International Conference on Software Testing, Verification and Validation (ICST), 2017, pp. 508-515, doi: 10.1109/ICST.2017.58.</p>
</li>
<li>
<p><a id="REFACTORING"></a> <a href="https://www.amazon.co.jp/-/en/Martin-Opdyke-William-Roberts-Fowler/dp/0201485672">Refactoring</a> &#34;Refactoring: Improving the Design of Existing Code&#34; (Addison-wesley Object Technology Series) Hardcover – June 28, 1999</p>
</li>
</ul>
</div>
</div>
</div>

        </div>

        
        <div class="row pl-3 pr-3">
        
        <div class="col-md-6 share-buttons">
        
            <strong>Share on:</strong>
            
            <a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fdakusui.github.io%2fposts%2fabout-assertions-1%2f" target="_blank">
              <i class="fab fa-facebook"></i>
            </a>
            
            
                <a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=https%3a%2f%2fdakusui.github.io%2fposts%2fabout-assertions-1%2f&text=About%20Assertions%201&via=Hiroshi%20Ukai%27s%20blog" target="_blank">
                  <i class="fab fa-twitter"></i>
                </a>
            
            
            
            
            
            
             
            
            
          
          </div>

        
        
          
            
          
          <div class="col-md-6 btn-improve-page">
             
               <a href="https://github.com/dakusui/dakusui.github.io/edit/toha/content/posts/about-assertions-1.adoc" title="Improve this page" target="_blank" rel="noopener">
            
                <i class="fas fa-code-branch"></i>
                Improve this page
              </a>
          </div>
        
        </div>



      
      <hr />
        












<div class="row next-prev-navigator">
  
  
</div>

      <hr />

      
      

      
      

      </div>
    </div>
  </div>
  
  <a id="scroll-to-top" class="btn"><i class="fas fa-chevron-circle-up"></i></a>
  
</section>


      
      
  <section class="toc-section" id="toc-section">
    
  </section>

    </div>

    
    












  
  
    
  

  
  
    
  

  
  

  
  
    
    
      
    
  


  
  
  
    
  

  
  
  

  
  
  
    
  
  

  
  
  

  <footer id="footer" class="container-fluid text-center align-content-center footer pb-2">
    <div class="container pt-5">
      <div class="row text-left">
        
        <div class="col-md-4 col-sm-12">
          <h5>Navigation</h5>
          
          <ul>
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://dakusui.github.io#about">About</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://dakusui.github.io#projects">Projects</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://dakusui.github.io#recent-posts">Recent Posts</a>
                </li>
              
            
              
            
          </ul>
          
        </div>
        
        
        <div class="col-md-4 col-sm-12">
          <h5>Contact me:</h5>
          <ul>
            
              
                <li><a href=https://github.com/dakusui target="_blank" rel="noopener">
                  <span><i class="fab fa-github"></i></span> <span>dakusui</span>
                </a></li>
              
            
              
                <li><span>Twitter: </span> <span>@______HU</span></li>
              
            
          </ul>
        </div>
        
        
        
          
          <div class="col-md-4 col-sm-12">
            <p>Stay up to date with email notification</p>
            
              <form method='post' action='https://blogtrottr.com'>
              <div class="form-group">
              <input type='email' class="form-control" name='btr_email' placeholder="Enter email"/><br />
              <input type='hidden' name='btr_url' value='https://dakusui.github.ioindex.xml' />
              <input type='hidden' name='schedule_type' value='1' />
              <small id="emailHelp" class="form-text text-muted">By entering your email address, you agree to receive the newsletter of this website.</small>
              <button type="submit" class="btn btn-info"> Submit </button>
              </div>
              </form>
            
          </div>
        
      </div>
    </div>
    
    <hr />
    <div class="container">
      <p id="disclaimer"><strong>Liability Notice:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p>
    </div>
    
    
    <hr />
    <div class="container">
      <div class="row text-left">
        <div class="col-md-4">
          <a id="theme" href="https://github.com/hossainemruz/toha" target="_blank" rel="noopener">
            <img src="/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png" alt="Toha Theme Logo">
            Toha
          </a>
        </div>
        <div class="col-md-4 text-center">© 2022 Copyright.</div>
        <div class="col-md-4 text-right">
          <a id="hugo" href="https://gohugo.io/" target="_blank" rel="noopener">Powered by
          <img
            src="/images/hugo-logo.svg"
            alt="Hugo Logo"
            height="18"
          />
          </a>
        </div>
      </div>
    </div>
    
  </footer>


    <script type="text/javascript" src="/js/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="/js/popper.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>

<script type="text/javascript" src="/js/navbar.js"></script>
<script type="text/javascript" src="/js/plyr.js"></script>
<script type="text/javascript" src="/js/main.js"></script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
<script src="/js/single.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>









    
</body>
</html>
